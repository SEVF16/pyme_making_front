<div class="d-flex justify-content-between align-items-center mb-2">
  <div>
    <h1 class="h3 mb-0 d-flex align-items-center gap-2">
      <lucide-angular [img]="Building2Icon" size="24" class="text-primary"></lucide-angular>
      Productos
    </h1>
    <p class="text-muted mb-0">Productos</p>
  </div>
  
  <!-- Toolbar Actions -->
  <app-button-lib
    (buttonClick)="openFormSidebar()"
    [configuration]="{
      text: 'Nuevo producto',
      icon: PlusIcon,              
      variant: 'primary',          
      size: 'normal',             
      iconPosition: 'left'
    }">
  </app-button-lib>
</div>

<app-custom-data-table
  [data]="data"
  [columns]="tableColumns()"
  [config]="tableConfig()">
</app-custom-data-table>

<!-- ✅ CORRECCIÓN: Sidebar siempre presente, sin condicionales -->
<app-sidebar-view
        [config]="formSidebarConfig"
        [title]="'Crear Producto'"
        [isDisabled]="isDisabled"
        (onConfirm)="saveUser()"
        (onCancel)="closeFormSidebar()">
  
  <ng-template #content>
    <app-product-form (productChange)="onProductChange($event)"></app-product-form>
  </ng-template>
</app-sidebar-view>